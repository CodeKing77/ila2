<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord - Professeur | ILA</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/pages/dashbord.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="../assets/images/logos/favicon.ico">
</head>
<body>
    <div class="professor-dashboard">
        <!-- Sidebar -->
        <aside class="professor-sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="logo">
                    <img src="../assets/images/logos/logo_ILA.png" alt="ILA Logo">
                </a>
                <h2>Espace Professeur</h2>
            </div>
            
            <div class="professor-profile">
                <div class="profile-avatar">
                    <i class="fas fa-chalkboard-teacher"></i>
                </div>
                <div class="profile-info">
                    <h3 id="professor-name">Prof. KOUAMÉ</h3>
                    <span id="professor-title">Professeur Titulaire</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active">
                        <a href="dashbord.html">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Tableau de bord</span>
                        </a>
                    </li>
                    <li>
                        <a href="mes_ouvrages.html">
                            <i class="fas fa-book"></i>
                            <span>Mes ouvrages</span>
                        </a>
                    </li>
                    <li>
                        <a href="ajouter_ouvrage.html">
                            <i class="fas fa-plus-circle"></i>
                            <span>Ajouter un ouvrage</span>
                        </a>
                    </li>
                    <li>
                        <a href="statistiques.html">
                            <i class="fas fa-chart-line"></i>
                            <span>Statistiques</span>
                        </a>
                    </li>
                    <li>
                        <a href="profile.html">
                            <i class="fas fa-user-cog"></i>
                            <span>Mon profil</span>
                        </a>
                    </li>
                    <li>
                        <a href="messages.html">
                            <i class="fas fa-envelope"></i>
                            <span>Messages</span>
                            <span class="notification-badge">3</span>
                        </a>
                    </li>
                    <li class="nav-divider"></li>
                    <li>
                        <a href="../index.html">
                            <i class="fas fa-home"></i>
                            <span>Retour au site</span>
                        </a>
                    </li>
                    <li>
                        <button class="logout-btn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Déconnexion</span>
                        </button>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <p>© 2024 ILA Publications</p>
                <p>Version 1.0.0</p>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="professor-main">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-left">
                    <h1>Tableau de bord</h1>
                    <p class="welcome-message" id="welcome-message">Bonjour, bienvenue sur votre espace</p>
                </div>
                <div class="header-right">
                    <div class="date-display">
                        <i class="far fa-calendar-alt"></i>
                        <span id="current-date"></span>
                    </div>
                    <button class="btn-help">
                        <i class="far fa-question-circle"></i>
                        Aide
                    </button>
                </div>
            </header>
            
            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card card-primary">
                    <div class="stat-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Ouvrages publiés</h3>
                        <div class="stat-number" id="total-ouvrages">0</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+2 ce mois</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card card-secondary">
                    <div class="stat-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Total de vues</h3>
                        <div class="stat-number" id="total-vues">0</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+15% ce mois</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card card-success">
                    <div class="stat-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Ventes totales</h3>
                        <div class="stat-number" id="total-ventes">0</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+3 cette semaine</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card card-warning">
                    <div class="stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Note moyenne</h3>
                        <div class="stat-number" id="note-moyenne">4.5/5</div>
                        <div class="stat-change">
                            <i class="fas fa-minus"></i>
                            <span>Stable</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Two Columns Layout -->
            <div class="dashboard-grid">
                <!-- Left Column -->
                <div class="column-left">
                    <!-- Derniers ouvrages -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2><i class="fas fa-history"></i> Derniers ouvrages</h2>
                            <a href="mes_ouvrages.html" class="btn-view-all">Voir tout</a>
                        </div>
                        <div class="section-content">
                            <div class="recent-books" id="recent-books">
                                <!-- Chargé dynamiquement -->
                                <div class="loading-spinner">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    <p>Chargement des ouvrages...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Actions -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2><i class="fas fa-bolt"></i> Actions rapides</h2>
                        </div>
                        <div class="section-content">
                            <div class="quick-actions">
                                <a href="ajouter_ouvrage.html" class="quick-action">
                                    <div class="action-icon primary">
                                        <i class="fas fa-plus"></i>
                                    </div>
                                    <span>Ajouter un ouvrage</span>
                                </a>
                                <a href="mes_ouvrages.html" class="quick-action">
                                    <div class="action-icon secondary">
                                        <i class="fas fa-edit"></i>
                                    </div>
                                    <span>Modifier un ouvrage</span>
                                </a>
                                <a href="statistiques.html" class="quick-action">
                                    <div class="action-icon success">
                                        <i class="fas fa-chart-bar"></i>
                                    </div>
                                    <span>Voir les statistiques</span>
                                </a>
                                <a href="profile.html" class="quick-action">
                                    <div class="action-icon warning">
                                        <i class="fas fa-user-edit"></i>
                                    </div>
                                    <span>Mettre à jour le profil</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column -->
                <div class="column-right">
                    <!-- Profile Summary -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2><i class="fas fa-user-graduate"></i> Mon profil</h2>
                        </div>
                        <div class="section-content" id="profile-data">
                            <div class="profile-summary">
                                <div class="profile-header">
                                    <div class="profile-avatar-large">
                                        <i class="fas fa-chalkboard-teacher"></i>
                                    </div>
                                    <div class="profile-details">
                                        <h3 id="professor-name-full">Prof. Jean Martial KOUAME</h3>
                                        <p class="professor-title" id="professor-title-full">Professeur Titulaire</p>
                                        <p class="professor-email" id="professor-email">j.kouame@ila.edu</p>
                                    </div>
                                </div>
                                <div class="profile-stats">
                                    <div class="profile-stat">
                                        <span class="stat-label">Membre depuis</span>
                                        <span class="stat-value" id="member-since">2023</span>
                                    </div>
                                    <div class="profile-stat">
                                        <span class="stat-label">Dernière connexion</span>
                                        <span class="stat-value" id="last-login">Aujourd'hui</span>
                                    </div>
                                    <div class="profile-stat">
                                        <span class="stat-label">Statut</span>
                                        <span class="status-badge active">Actif</span>
                                    </div>
                                </div>
                                <div class="profile-bio" id="professor-bio">
                                    <h4>Biographie</h4>
                                    <p>Spécialiste en linguistique appliquée avec plus de 15 ans d'expérience dans l'enseignement et la recherche.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notifications -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2><i class="fas fa-bell"></i> Notifications récentes</h2>
                        </div>
                        <div class="section-content">
                            <div class="notifications-list">
                                <div class="notification-item success">
                                    <div class="notification-icon">
                                        <i class="fas fa-check-circle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p>Nouvelle vente : "Langues africaines"</p>
                                        <span class="notification-time">Il y a 2 heures</span>
                                    </div>
                                </div>
                                <div class="notification-item info">
                                    <div class="notification-icon">
                                        <i class="fas fa-info-circle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p>Votre ouvrage a atteint 100 vues</p>
                                        <span class="notification-time">Hier, 14:30</span>
                                    </div>
                                </div>
                                <div class="notification-item warning">
                                    <div class="notification-icon">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p>Stock faible : "Cheminements linguistiques"</p>
                                        <span class="notification-time">23 mars, 10:15</span>
                                    </div>
                                </div>
                                <div class="notification-item">
                                    <div class="notification-icon">
                                        <i class="fas fa-comment"></i>
                                    </div>
                                    <div class="notification-content">
                                        <p>Nouveau commentaire sur votre ouvrage</p>
                                        <span class="notification-time">22 mars, 16:45</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            <footer class="dashboard-footer">
                <p>© 2024 Institut de Linguistique Appliquée d'Abidjan. Tous droits réservés.</p>
                <div class="footer-links">
                    <a href="#">Centre d'aide</a>
                    <a href="#">Contact support</a>
                    <a href="#">Conditions d'utilisation</a>
                </div>
            </footer>
        </main>
    </div>
    
    <!-- JavaScript -->
    <script>
        // Mettre à jour la date actuelle
        function updateCurrentDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('current-date').textContent = 
                now.toLocaleDateString('fr-FR', options);
        }
        
        // Message de bienvenue selon l'heure
        function setWelcomeMessage() {
            const hour = new Date().getHours();
            let message = "Bonjour";
            
            if (hour < 12) {
                message = "Bonjour";
            } else if (hour < 18) {
                message = "Bon après-midi";
            } else {
                message = "Bonsoir";
            }
            
            document.getElementById('welcome-message').textContent = 
                `${message}, bienvenue sur votre espace professeur`;
        }
        
        // Charger les données du dashboard
        async function loadDashboard() {
            try {
                // Simuler le chargement des données (à remplacer par votre API)
                setTimeout(() => {
                    // Données d'exemple
                    document.getElementById('total-ouvrages').textContent = '12';
                    document.getElementById('total-vues').textContent = '1,245';
                    document.getElementById('total-ventes').textContent = '47';
                    
                    // Mettre à jour le profil
                    document.getElementById('professor-name').textContent = 'Prof. KOUAMÉ';
                    document.getElementById('professor-name-full').textContent = 'Prof. Jean Martial KOUAME';
                    document.getElementById('professor-title').textContent = 'Professeur Titulaire';
                    document.getElementById('professor-title-full').textContent = 'Professeur Titulaire - Linguistique Appliquée';
                    document.getElementById('professor-email').textContent = 'j.kouame@ila.edu';
                    document.getElementById('professor-bio').innerHTML = `
                        <h4>Biographie</h4>
                        <p>Spécialiste en linguistique appliquée avec plus de 15 ans d'expérience dans l'enseignement et la recherche. Auteur de plusieurs ouvrages scientifiques sur les langues africaines.</p>
                    `;
                    
                    // Derniers ouvrages
                    const recentBooks = [
                        {
                            title: "Afrique subsaharienne de l'Ouest",
                            category: "Scientifique",
                            date: "15 mars 2024",
                            views: "320"
                        },
                        {
                            title: "Langues africaines - Alternatives",
                            category: "Didactique",
                            date: "10 mars 2024",
                            views: "450"
                        },
                        {
                            title: "Introduction à la sociolinguistique",
                            category: "Culturel",
                            date: "5 mars 2024",
                            views: "180"
                        }
                    ];
                    
                    const recentBooksHtml = recentBooks.map(book => `
                        <div class="recent-book-item">
                            <div class="book-info">
                                <h4>${book.title}</h4>
                                <p class="book-category">${book.category}</p>
                                <div class="book-meta">
                                    <span><i class="far fa-calendar"></i> ${book.date}</span>
                                    <span><i class="far fa-eye"></i> ${book.views} vues</span>
                                </div>
                            </div>
                            <a href="#" class="btn-view">
                                <i class="fas fa-external-link-alt"></i>
                            </a>
                        </div>
                    `).join('');
                    
                    document.getElementById('recent-books').innerHTML = recentBooksHtml;
                    
                }, 1000);
                
            } catch (error) {
                console.error('Erreur:', error);
                document.getElementById('recent-books').innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Erreur de chargement des données</p>
                    </div>
                `;
            }
        }
        
        // Gérer la déconnexion
        document.querySelector('.logout-btn').addEventListener('click', function() {
            if (confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                // Ici vous ajouterez la logique de déconnexion
                window.location.href = '../index.html';
            }
        });
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentDate();
            setWelcomeMessage();
            loadDashboard();
            
            // Mettre à jour la date toutes les minutes
            setInterval(updateCurrentDate, 60000);
        });
    </script>
</body>
</html>